(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{25:function(e,t,a){},29:function(e,t,a){e.exports=a(59)},59:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(26),c=a.n(o),i=a(6),s=a(9),l=a(28),u=a(3),p=a(4),d=a(7),m=a(5),h=a(8),f=a(2),g=a.n(f),y=a(13),v=a(11),b=a.n(v),E=b.a.create({baseURL:"https://api.unsplash.com",headers:{Authorization:"Client-ID ".concat("06ffef9841bca7098b781c1191bbfe7439dfb7e766cff33e8c0d7435855cf016")}}),w=b.a.create({baseURL:"https://maps.googleapis.com/maps/api/geocode"}),O=b.a.create({baseURL:"https://api.openweathermap.org/data/2.5"}),k={},j=function(e){function t(){return Object(u.a)(this,t),Object(d.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(p.a)(t,[{key:"getTime",value:function(){var e=new Date,t=e.getHours(),a=e.getMinutes(),n="";return t>=12?(n="PM",t-=12):n="AM",a<10&&(a="0".concat(a)),{hours:t,minutes:a,amPM:n}}},{key:"render",value:function(){var e=this.getTime(),t=e.hours,a=e.minutes,n=e.amPM,o=this.props.location.city[0].address_components[0].long_name,c=this.props.location.city[0].address_components[2].short_name;return r.a.createElement("div",{className:"location-time"},r.a.createElement("div",{className:"location"},"".concat(o,", ").concat(c)),r.a.createElement("div",{className:"time"},"".concat(t,":").concat(a," ").concat(n)))}}]),t}(r.a.Component),x=null,N=null,_=null,C=null,F="",H="",T="",D=function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,o=new Array(n),c=0;c<n;c++)o[c]=arguments[c];return(a=Object(d.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(o)))).renderHelper=function(){var e=a.props.forecast;if(0===a.props.forecast.length&&!a.props.weather.main)return r.a.createElement("div",null,"Loading...");if(0===a.props.forecast.length){var t=a.props.weather,n=new Date(1e3*t.dt).getDay();a.setDayOfWeek(n),x=t.main.temp.toFixed(0),N=t.main.temp_min.toFixed(0),_=t.main.temp_max.toFixed(0),C=t.wind.speed.toFixed(0),F="",a.setWeatherIcon(t)}else{x=e[Math.floor(e.length/2)].main.temp.toFixed(0);var o=new Date(1e3*e[0].dt).getDay();a.setDayOfWeek(o);var c=e.map(function(e){return e.main.temp_min}).sort(a.tempSort);N=c[0].toFixed(0);var i=e.map(function(e){return e.main.temp_max}).sort(a.tempSort);_=i[i.length-1].toFixed(0);var s=e.map(function(e){return e.wind.speed}).reduce(function(e,t){return e+t});C=(s/e.length).toFixed(0);var l=(e.map(function(e){return e.wind.deg}).reduce(function(e,t){return e+t})/e.length).toFixed(0);a.setWindDirection(l),a.setWeatherIcon(e)}},a}return Object(h.a)(t,e),Object(p.a)(t,[{key:"componentDidMount",value:function(){0===this.props.forecast.length&&this.props.getWeather(this.props.lat,this.props.long)}},{key:"setWindDirection",value:function(e){return e>337.5||e<=22.5?F="N":e<=67.5?F="NE":e<=112.5?F="E":e<=157.5?F="SE":e<=202.5?F="S":e<=247.5?F="SW":e<=292.5?F="W":e<=337.5&&(F="NW"),F}},{key:"setWeatherIcon",value:function(e){var t=[],a=[];if(e.length)for(var n=0;n<e.length;n++)a.push(e[n].weather[0].icon);else a.push(e.weather[0].icon);return 8===e.length?t=a.slice(2,6):7===e.length?t=a.slice(1,5):6===e.length?t=a.slice(0,4):5===e.length?t=a.slice(0,3):4===e.length||2===e.length?t=a.slice(0,2):3!==e.length&&1!==e.length||(t=a.slice(0,1)),T=t.includes("13d")||t.includes("13n")?"13d":t.includes("11d")||t.includes("11n")?"11d":t.includes("10d")||t.includes("10n")?"10d":t.includes("09d")||t.includes("09n")?"09d":t.includes("50d")||t.includes("50n")?"50d":t.includes("04d")||t.includes("04n")?"04d":t.includes("03d")||t.includes("03n")?"03d":t.includes("02d")||t.includes("02n")?"02d":"01d"}},{key:"setDayOfWeek",value:function(e){return 0===e?H="Sunday":1===e?H="Monday":2===e?H="Tuesday":3===e?H="Wednesday":4===e?H="Thursday":5===e?H="Friday":6===e&&(H="Saturday"),H}},{key:"tempSort",value:function(e,t){return e-t}},{key:"render",value:function(){return this.renderHelper(),r.a.createElement("div",{className:"day"},r.a.createElement("div",{className:"day-date"},H),r.a.createElement("div",{className:"weather-icon"},r.a.createElement("img",{alt:"weather icon for daily condition",src:"https://openweathermap.org/img/w/".concat(T,".png")})),r.a.createElement("div",{className:"current-temp"},x,"\xb0"),r.a.createElement("div",{className:"min-max"},r.a.createElement("div",{className:"min"},N,"\xb0 L"),r.a.createElement("div",{className:"max"},_,"\xb0 H")),r.a.createElement("div",{className:"wind"},"".concat(F," ").concat(C,"mph")))}}]),t}(r.a.Component),A=Object(i.b)(function(e){return{weather:e.weather}},{getWeather:function(e,t){return function(){var a=Object(y.a)(g.a.mark(function a(n){return g.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,O.get("weather?lat=".concat(e,"&lon=").concat(t,"&units=imperial&lang=en&appid=").concat("1edc08f9ee68648d232a439110aae6e7"));case 2:k=a.sent,n({type:"FETCH_WEATHER",payload:k.data});case 4:case"end":return a.stop()}},a,this)}));return function(e){return a.apply(this,arguments)}}()}})(D),S=function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,o=new Array(n),c=0;c<n;c++)o[c]=arguments[c];return(a=Object(d.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(o)))).renderHelper=function(){if(a.props.forecast.list){for(var e=(new Date).getDate(),t=a.props.forecast.list,n=[],o=[],c=[],i=[],s=[],l=0;l<t.length;l++){var u=new Date(1e3*t[l].dt).getDate();e===u?n.push(t[l]):e+1===u?o.push(t[l]):e+2===u?c.push(t[l]):e+3===u?i.push(t[l]):e+4===u&&s.push(t[l])}return r.a.createElement("div",{className:"forecast"},r.a.createElement(A,{forecast:n,lat:a.props.location.lat[0].geometry.location.lat,long:a.props.location.long[0].geometry.location.lng}),r.a.createElement(A,{forecast:o}),r.a.createElement(A,{forecast:c}),r.a.createElement(A,{forecast:i}),r.a.createElement(A,{forecast:s}))}return r.a.createElement("div",null,"Loading...")},a}return Object(h.a)(t,e),Object(p.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.location.lat[0].geometry.location.lat,t=this.props.location.long[0].geometry.location.lng;this.props.getForecast(e,t)}},{key:"render",value:function(){return this.renderHelper()}}]),t}(r.a.Component),W=Object(i.b)(function(e){return{forecast:e.forecast}},{getForecast:function(e,t){return function(){var a=Object(y.a)(g.a.mark(function a(n){return g.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,O.get("forecast?lat=".concat(e,"&lon=").concat(t,"&units=imperial&lang=en&appid=").concat("1edc08f9ee68648d232a439110aae6e7"));case 2:k=a.sent,n({type:"FETCH_FORECAST",payload:k.data});case 4:case"end":return a.stop()}},a,this)}));return function(e){return a.apply(this,arguments)}}()}})(S),I=(a(25),function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,o=new Array(n),c=0;c<n;c++)o[c]=arguments[c];return(a=Object(d.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(o)))).renderHelper=function(){return a.props.error?r.a.createElement("div",{className:"no-location"},"Please allow geolocation to see weather data!"):a.props.cityState.city?r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"photo-credit"},"Photo by"," ",r.a.createElement("a",{href:"".concat(a.props.photoProfile.links.html,"?utm_source=weather_apputm_medium=referral")},a.props.photoName.name)," ","on"," ",r.a.createElement("a",{href:"https://unsplash.com/?utm_source=weather_app&utm_medium=referral"},"Unsplash")),r.a.createElement(j,{location:a.props.cityState}),r.a.createElement(W,{location:a.props.latLong})):r.a.createElement("div",{className:"no-location"},"Loading...")},a}return Object(h.a)(t,e),Object(p.a)(t,[{key:"componentDidMount",value:function(){this.props.getLocation()}},{key:"render",value:function(){return this.renderHelper()}}]),t}(r.a.Component)),L=Object(i.b)(function(e){return e.location.message?{error:e.location.message}:{cityState:{city:e.location.results,state:e.location.results},latLong:{lat:e.location.results,long:e.location.results}}},{getLocation:function(){return function(){var e=Object(y.a)(g.a.mark(function e(t){var a;return g.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:a="",navigator.geolocation.getCurrentPosition(function(){var e=Object(y.a)(g.a.mark(function e(n){return g.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a="".concat(n.coords.latitude,",").concat(n.coords.longitude),e.next=3,w.get("json?latlng=".concat(a,"&location_type=APPROXIMATE&result_type=locality&key=").concat("AIzaSyBEaRT6DUVjzyTzdSydY3e20eSj1YCroHk"));case 3:k=e.sent,t({type:"FETCH_LOCATION",payload:k.data});case 5:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),function(e){t({type:"FETCH_LOCATION",payload:e})});case 2:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()}})(I),M=function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,o=new Array(n),c=0;c<n;c++)o[c]=arguments[c];return(a=Object(d.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(o)))).renderHelper=function(){return a.props.image?r.a.createElement("div",{className:"app",style:{margin:"0",height:"100vh",width:"100vw",backgroundColor:"black",backgroundImage:"url(".concat(a.props.image.raw,"&w=1600)"),backgroundPosition:"center",backgroundRepeat:"no-repeat"}},r.a.createElement(L,{photoProfile:a.props.photographerProfile,photoName:a.props.photographerName})):r.a.createElement("div",null,"Loading...")},a}return Object(h.a)(t,e),Object(p.a)(t,[{key:"componentDidMount",value:function(){this.props.getBackgroundImage()}},{key:"render",value:function(){return r.a.createElement("div",{className:"app"},this.renderHelper())}}]),t}(r.a.Component),P=Object(i.b)(function(e){return{image:e.image.urls,photographerProfile:e.image.user,photographerName:e.image.user}},{getBackgroundImage:function(){return function(){var e=Object(y.a)(g.a.mark(function e(t){var a;return g.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!((a=(new Date).getHours())>4&&a<8)){e.next=7;break}return e.next=4,E.get("/photos/random",{params:{query:"dawn"}});case 4:k=e.sent,e.next=22;break;case 7:if(!(a>7&&a<17)){e.next=13;break}return e.next=10,E.get("/photos/random",{params:{query:"sunlight"}});case 10:k=e.sent,e.next=22;break;case 13:if(!(a>16&&a<20)){e.next=19;break}return e.next=16,E.get("/photos/random",{params:{query:"dusk"}});case 16:k=e.sent,e.next=22;break;case 19:return e.next=21,E.get("/photos/random",{params:{query:"night"}});case 21:k=e.sent;case 22:t({type:"FETCH_IMAGE",payload:k.data});case 23:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()}})(M),R=Object(s.c)({image:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_IMAGE":return t.payload;default:return e}},location:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_LOCATION":return t.payload;default:return e}},forecast:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_FORECAST":return t.payload;default:return e}},weather:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_WEATHER":return t.payload;default:return e}}}),U=Object(s.d)(R,Object(s.a)(l.a));c.a.render(r.a.createElement(i.a,{store:U},r.a.createElement(P,null)),document.getElementById("root"))}},[[29,1,2]]]);
//# sourceMappingURL=main.645543dd.chunk.js.map